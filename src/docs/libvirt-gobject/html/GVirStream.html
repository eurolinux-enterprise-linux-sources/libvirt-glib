<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GVirStream</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="Libvirt-gobject Reference Manual">
<link rel="up" href="ch01.html" title="Libvirt-gobject">
<link rel="prev" href="GVirStorageVol.html" title="GVirStorageVol">
<link rel="next" href="object-tree.html" title="Object Hierarchy">
<meta name="generator" content="GTK-Doc V1.19 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="GVirStorageVol.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Libvirt-gobject Reference Manual</th>
<td><a accesskey="n" href="object-tree.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#GVirStream.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#GVirStream.description" class="shortcut">Description</a>
                   | 
                  <a href="#GVirStream.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#GVirStream.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry">
<a name="GVirStream"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GVirStream.top_of_page"></a>GVirStream</span></h2>
<p>GVirStream</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="GVirStream.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a class="link" href="GVirStream.html#GVirStream-struct" title="struct GVirStream">GVirStream</a>;
struct              <a class="link" href="GVirStream.html#GVirStreamClass" title="struct GVirStreamClass">GVirStreamClass</a>;
<span class="returnvalue">gint</span>                (<a class="link" href="GVirStream.html#GVirStreamSinkFunc" title="GVirStreamSinkFunc ()">*GVirStreamSinkFunc</a>)               (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *buf</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> nbytes</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">gint</span>                (<a class="link" href="GVirStream.html#GVirStreamSourceFunc" title="GVirStreamSourceFunc ()">*GVirStreamSourceFunc</a>)             (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *buf</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> nbytes</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
enum                <a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition">GVirStreamIOCondition</a>;
<span class="returnvalue">gboolean</span>            (<a class="link" href="GVirStream.html#GVirStreamIOFunc" title="GVirStreamIOFunc ()">*GVirStreamIOFunc</a>)                 (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="GVirStream.html#gvir-stream-add-watch" title="gvir_stream_add_watch ()">gvir_stream_add_watch</a>               (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOFunc" title="GVirStreamIOFunc ()"><span class="type">GVirStreamIOFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="GVirStream.html#gvir-stream-add-watch-full" title="gvir_stream_add_watch_full ()">gvir_stream_add_watch_full</a>          (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> priority</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOFunc" title="GVirStreamIOFunc ()"><span class="type">GVirStreamIOFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> notify</code></em>);
<span class="returnvalue">gssize</span>              <a class="link" href="GVirStream.html#gvir-stream-receive-all" title="gvir_stream_receive_all ()">gvir_stream_receive_all</a>             (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamSinkFunc" title="GVirStreamSinkFunc ()"><span class="type">GVirStreamSinkFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<span class="returnvalue">gssize</span>              <a class="link" href="GVirStream.html#gvir-stream-receive" title="gvir_stream_receive ()">gvir_stream_receive</a>                 (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<span class="returnvalue">gssize</span>              <a class="link" href="GVirStream.html#gvir-stream-send-all" title="gvir_stream_send_all ()">gvir_stream_send_all</a>                (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamSourceFunc" title="GVirStreamSourceFunc ()"><span class="type">GVirStreamSourceFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<span class="returnvalue">gssize</span>              <a class="link" href="GVirStream.html#gvir-stream-send" title="gvir_stream_send ()">gvir_stream_send</a>                    (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="GVirStream.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----GIOStream
         +----GVirStream
</pre>
</div>
<div class="refsect1">
<a name="GVirStream.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="GVirStream.html#GVirStream--handle" title='The "handle" property'>handle</a>"                   <span class="type">GVirStreamHandle</span>*     : Read / Write / Construct Only
</pre>
</div>
<div class="refsect1">
<a name="GVirStream.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="GVirStream.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="GVirStream-struct"></a><h3>struct GVirStream</h3>
<pre class="programlisting">struct GVirStream;</pre>
</div>
<hr>
<div class="refsect2">
<a name="GVirStreamClass"></a><h3>struct GVirStreamClass</h3>
<pre class="programlisting">struct GVirStreamClass {
    GIOStreamClass parent_class;

    gpointer padding[20];
};
</pre>
</div>
<hr>
<div class="refsect2">
<a name="GVirStreamSinkFunc"></a><h3>GVirStreamSinkFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gint</span>                (*GVirStreamSinkFunc)               (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *buf</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> nbytes</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>a <a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buf</code></em> :</span></p></td>
<td>data pointer. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>][<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=nbytes][<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nbytes</code></em> :</span></p></td>
<td>data size</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data passed to the function</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the number of bytes filled, 0 upon end
of file, or -1 upon error</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GVirStreamSourceFunc"></a><h3>GVirStreamSourceFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gint</span>                (*GVirStreamSourceFunc)             (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *buf</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> nbytes</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>a <a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buf</code></em> :</span></p></td>
<td>data pointer. <span class="annotation">[<acronym title="Parameter for returning results. Default is transfer full."><span class="acronym">out</span></acronym>][<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=nbytes][<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nbytes</code></em> :</span></p></td>
<td>data size</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data passed to the function</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the number of bytes filled, 0 upon end
of file, or -1 upon error</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GVirStreamIOCondition"></a><h3>enum GVirStreamIOCondition</h3>
<pre class="programlisting">typedef enum {
    GVIR_STREAM_IO_CONDITION_READABLE = (1 &lt;&lt; 0),
    GVIR_STREAM_IO_CONDITION_WRITABLE = (1 &lt;&lt; 1),
    GVIR_STREAM_IO_CONDITION_HANGUP   = (1 &lt;&lt; 2),
    GVIR_STREAM_IO_CONDITION_ERROR    = (1 &lt;&lt; 3),
} GVirStreamIOCondition;
</pre>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><a name="GVIR-STREAM-IO-CONDITION-READABLE:CAPS"></a><span class="term"><code class="literal">GVIR_STREAM_IO_CONDITION_READABLE</code></span></p></td>
<td></td>
</tr>
<tr>
<td><p><a name="GVIR-STREAM-IO-CONDITION-WRITABLE:CAPS"></a><span class="term"><code class="literal">GVIR_STREAM_IO_CONDITION_WRITABLE</code></span></p></td>
<td></td>
</tr>
<tr>
<td><p><a name="GVIR-STREAM-IO-CONDITION-HANGUP:CAPS"></a><span class="term"><code class="literal">GVIR_STREAM_IO_CONDITION_HANGUP</code></span></p></td>
<td></td>
</tr>
<tr>
<td><p><a name="GVIR-STREAM-IO-CONDITION-ERROR:CAPS"></a><span class="term"><code class="literal">GVIR_STREAM_IO_CONDITION_ERROR</code></span></p></td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GVirStreamIOFunc"></a><h3>GVirStreamIOFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            (*GVirStreamIOFunc)                 (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-add-watch"></a><h3>gvir_stream_add_watch ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               gvir_stream_add_watch               (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOFunc" title="GVirStreamIOFunc ()"><span class="type">GVirStreamIOFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>);</pre>
<p>
Adds a watch for <em class="parameter"><code>stream</code></em> to the mainloop
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cond</code></em> :</span></p></td>
<td>the conditions to watch for (bitfield of <a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a>)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td>the function to call when the condition is satisfied. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym> opaque]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>opaque</code></em> :</span></p></td>
<td>user data to pass to <em class="parameter"><code>func</code></em>. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the event source id</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-add-watch-full"></a><h3>gvir_stream_add_watch_full ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               gvir_stream_add_watch_full          (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> priority</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a> cond</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamIOFunc" title="GVirStreamIOFunc ()"><span class="type">GVirStreamIOFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> opaque</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> notify</code></em>);</pre>
<p>
Adds a watch for <em class="parameter"><code>stream</code></em> to the mainloop
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>priority</code></em> :</span></p></td>
<td>the priority of the <a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> source</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cond</code></em> :</span></p></td>
<td>the conditions to watch for (bitfield of <a class="link" href="GVirStream.html#GVirStreamIOCondition" title="enum GVirStreamIOCondition"><span class="type">GVirStreamIOCondition</span></a>)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td>the function to call when the condition is satisfied. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym> opaque]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>opaque</code></em> :</span></p></td>
<td>user data to pass to <em class="parameter"><code>func</code></em>. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>notify</code></em> :</span></p></td>
<td>the function to call when the source is removed</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the event source id
Rename to: gvir_stream_add_watch</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-receive-all"></a><h3>gvir_stream_receive_all ()</h3>
<pre class="programlisting"><span class="returnvalue">gssize</span>              gvir_stream_receive_all             (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamSinkFunc" title="GVirStreamSinkFunc ()"><span class="type">GVirStreamSinkFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Receive the entire data stream, sending the data to the
requested data sink. This is simply a convenient alternative
to virStreamRecv, for apps that do blocking-I/o.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>cancellation notifier</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td>the callback for writing data to application. <span class="annotation">[<acronym title="The callback is valid until the GDestroyNotify argument is called."><span class="acronym">scope notified</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to be passed to <em class="parameter"><code>callback</code></em>. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>
<span class="type">GError</span> for error reporting, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the number of bytes consumed or -1 upon error</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-receive"></a><h3>gvir_stream_receive ()</h3>
<pre class="programlisting"><span class="returnvalue">gssize</span>              gvir_stream_receive                 (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Receive data (up to <em class="parameter"><code>size</code></em> bytes) from a stream.
On error -1 is returned and <em class="parameter"><code>error</code></em> is set accordingly.
</p>
<p>
<a class="link" href="GVirStream.html#gvir-stream-receive" title="gvir_stream_receive ()"><code class="function">gvir_stream_receive()</code></a> can return any number of bytes, up to
<em class="parameter"><code>size</code></em>. If more than <em class="parameter"><code>size</code></em> bytes have been received, the additional
data will be returned in future calls to <a class="link" href="GVirStream.html#gvir-stream-receive" title="gvir_stream_receive ()"><code class="function">gvir_stream_receive()</code></a>.
</p>
<p>
If there is no data available, a <code class="literal">G_IO_ERROR_WOULD_BLOCK</code> error will be
returned.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a buffer
to read data into (which should be at least <em class="parameter"><code>size</code></em> bytes long). <span class="annotation">[<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=size][<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> guint8]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>the number of bytes you want to read from the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <code class="literal">GCancellable</code> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>. <span class="annotation">[<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>
<span class="type">GError</span> for error reporting, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>Number of bytes read, or 0 if the end of stream reached,
or -1 on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-send-all"></a><h3>gvir_stream_send_all ()</h3>
<pre class="programlisting"><span class="returnvalue">gssize</span>              gvir_stream_send_all                (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="GVirStream.html#GVirStreamSourceFunc" title="GVirStreamSourceFunc ()"><span class="type">GVirStreamSourceFunc</span></a> func</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Send the entire data stream, sending the data to the
requested data source. This is simply a convenient alternative
to virStreamRecv, for apps that do blocking-I/o.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>cancellation notifier</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>func</code></em> :</span></p></td>
<td>the callback for writing data to application. <span class="annotation">[<acronym title="The callback is valid until the GDestroyNotify argument is called."><span class="acronym">scope notified</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to be passed to <em class="parameter"><code>callback</code></em>. <span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>
<span class="type">GError</span> for error reporting, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the number of bytes consumed or -1 upon error</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gvir-stream-send"></a><h3>gvir_stream_send ()</h3>
<pre class="programlisting"><span class="returnvalue">gssize</span>              gvir_stream_send                    (<em class="parameter"><code><a class="link" href="GVirStream.html" title="GVirStream"><span class="type">GVirStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Send data (up to <em class="parameter"><code>size</code></em> bytes) from a stream.
On error -1 is returned and <em class="parameter"><code>error</code></em> is set accordingly.
</p>
<p>
<a class="link" href="GVirStream.html#gvir-stream-send" title="gvir_stream_send ()"><code class="function">gvir_stream_send()</code></a> can return any number of bytes, up to
<em class="parameter"><code>size</code></em>. If more than <em class="parameter"><code>size</code></em> bytes have been sendd, the additional
data will be returned in future calls to <a class="link" href="GVirStream.html#gvir-stream-send" title="gvir_stream_send ()"><code class="function">gvir_stream_send()</code></a>.
</p>
<p>
If there is no data available, a <code class="literal">G_IO_ERROR_WOULD_BLOCK</code> error will be
returned.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a buffer to write data from (which should be at least <em class="parameter"><code>size</code></em>
bytes long).</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>the number of bytes you want to write to the stream</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <code class="literal">GCancellable</code> or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a>. <span class="annotation">[<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>
<span class="type">GError</span> for error reporting, or <a href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>Number of bytes written.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1">
<a name="GVirStream.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="GVirStream--handle"></a><h3>The <code class="literal">"handle"</code> property</h3>
<pre class="programlisting">  "handle"                   <span class="type">GVirStreamHandle</span>*     : Read / Write / Construct Only</pre>
<p>The stream handle.</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.19</div>
</body>
</html>